"use strict";function addEventCircle(i,t){var a=i.lat,e=i.lng,o=i.daynight,l=i.date;if(void 0!==a||void 0!==e)if("day"===o){var n=L.circle([a,e],{color:"#ff6f69",stroke:!1,fillColor:"#ff6f69",fillOpacity:.5,radius:15,className:"circle day"}).addTo(t);n.bindPopup("時間： "+l.toString())}else{var c=L.circle([a,e],{color:"#265665",stroke:!1,fillColor:"#265665",fillOpacity:.5,radius:15,className:"circle night"}).addTo(t);c.bindPopup("時間： "+l.toString())}}var mymap=L.map("accidentMap").setView([22.9945,120.21208],14);L.tileLayer("https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy;<a href="https://carto.com/attribution">CARTO</a>'}).addTo(mymap);var legend=L.control({position:"bottomright"});legend.onAdd=function(){for(var i=L.DomUtil.create("div","info legend"),t=["#ff6f69","#265665"],a=["白天(5:00-17:00)","晚上(17:00-5:00)"],e=0;e<a.length;e++)i.innerHTML+='<p><i style="background:'+t[e]+'"></i> '+a[e]+"<br></p>";return i},legend.addTo(mymap),$("#day_toggle").on("click",function(){$("#day_toggle").is(":checked")?$(".day").css("visibility","visible"):$(".day").css("visibility","hidden")}),$("#night_toggle").on("click",function(){$("#night_toggle").is(":checked")?$(".night").css("visibility","visible"):$(".night").css("visibility","hidden")}),$.getJSON("./src/data/trafficeRawData.json",function(i){$.each(i,function(i,t){addEventCircle(t,mymap)})});