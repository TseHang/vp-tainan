"use strict";function addEventCircle(a){var t=a.lat,o=a.lng,l=a.month,r=a.hour<17&&a.hour>5?"day":"night",i=a.month+"月"+a.day+"日";if(void 0!==t||void 0!==o)if("day"===r){var c=L.circle([t,o],{color:"#ff6f69",fillColor:"#f03",fillOpacity:.1,radius:.2,class:l}).addTo(mymap);c.bindPopup(i+" lat: "+t+"lng"+o)}else{var e=L.circle([t,o],{color:"#265665",fillColor:"#f03",fillOpacity:.1,radius:.2,class:l}).addTo(mymap);e.bindPopup(i+" lat: "+t+"lng"+o)}}function processCSVData(a){for(var t=a.split(/\r\n|\n/),o=(t[0].split(","),1);o<t.length;o++){var l=t[o].split(",");console.log(l[58]+" "+l[59]);addEventCircle({lat:l[59],lng:l[58],category:"injury",month:l[5],day:l[6],hour:l[7]})}}var mymap=L.map("accidentMap").setView([22.98877766803278,120.21154403686522],14);L.tileLayer("https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy;<a href="https://carto.com/attribution">CARTO</a>'}).addTo(mymap),$(document).ready(function(){$.ajax({type:"GET",url:"./src/data/traffic10506.csv",dataType:"text",success:function(a){processCSVData(a)}})});